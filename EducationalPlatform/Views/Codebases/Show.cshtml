@model EducationalPlatform.Models.Codebases

@{
    ViewBag.Title = "Show";
}

<!-- Start Banner Area -->
<section class="banner-area relative">
    <div class="container">
        <div class="row d-flex align-items-center justify-content-center">
            <div class="about-content col-lg-12">
                <h1 class="text-white">
                    @Model.CodebaseName
                </h1>
                <p>
                    Below you can find the codebase details, learning instructions, and codebase reviews. 
                    In case you need help on your learning, you use the forum.
                </p>
                <div class="link-nav">
                    <span class="box">
                        <a href="@Url.Action("Index", "Codebases")"> Codebases </a>
                        <i class="lnr lnr-arrow-right"></i>
                        <a href="@Url.Action("Show", "Codebases", new { Id = Model.Id })"> @Model.CodebaseName</a>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="rocket-img">
        <img src="~/Content/Images/rocket.png" alt="">
    </div>
</section>
<!-- End Banner Area -->
<!-- Start Codebase Details Area -->
<section class="about-area section-gap">
    <div class="container shrink codebase-step">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="section-title text-center">
                    <h1>Codebase Details</h1>
                    <hr>
                </div>
            </div>
        </div>
        <div class="text-center  feature-item ml-15 mr-15"><h4 class="d-inline"> Description: </h4> @Model.Description</div>
        <div class="text-center feature-item ml-15 mr-15"><h4 class="d-inline"> Learner's Role: </h4> @Model.Role</div>
        <div class="feature-inner row">
            <div class="col-lg-6 col-md-6">
                <div class="feature-item">
                    <svg width="3em" height="3em" style="display:block; margin:auto;" viewBox="0 0 16 16" class="bi bi-code-square" fill="#00CED1" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                        <path fill-rule="evenodd" d="M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0zm2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0z" />
                    </svg>
                    <h4 class="text-center">Implementation Details</h4>
                    <div class="wow fadeIn" data-wow-duration="1s" data-wow-delay=".1s">
                        <p>
                        <p class="text-center">  Difficulty: @Model.SelectedDifficulty </p>
                        <p class="text-center"> Langauge:  @Model.SelectedProgrammingLanguage</p>
                        <p class="text-center"> Technology: @Model.SelectedTechnology</p>
                        <p class="text-center">  Contributors So Far: @Model.Members</p>
                        <p class="text-center">Recommended Environment/IDE:  @Model.Environment </p>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6">
                <div class="feature-item" style="height:350px;">
                    <svg width="3em" height="3em" style="display:block; margin:auto;" viewBox="0 0 16 16" class="bi bi-exclamation-octagon" fill="red" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1L1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                        <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z" />
                    </svg>
                    <h4 class="text-center"> Project Constraints</h4>
                    <div class="wow fadeIn" data-wow-duration="1s" data-wow-delay=".3s">
                        <p class="text-center">
                            <div class="text-center"> Time Limit: @Model.TimeLimit (hour)</div>
                            <div class="text-center"> Sprints Number: @Model.Sprints  </div>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6">
                <div class="feature-item">
                    <svg width="3em" height="3em" style="display:block; margin:auto;" viewBox="0 0 16 16" class="bi bi-tags" fill="#4B0082" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z" />
                        <path fill-rule="evenodd" d="M5.5 5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" />
                        <path d="M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z" />
                    </svg>
                    <h4 class="text-center">Tags</h4>
                    <div class="wow fadeIn" data-wow-duration="1s" data-wow-delay=".5s">
                        @if (Model.Tags != null)
                        {
                            foreach (string tag in Model.Tags.Split(','))
                            {
                                <span class="codebase-topics">@tag</span>
                            }
                        }
                        else
                        {
                            <p class="text-center">  no tags added!</p>
                        }
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6">
                <a href="#rating">
                    <div class="feature-item">
                        <svg width="3em" height="3em" style="display:block; margin:auto;" viewBox="0 0 16 16" class="bi bi-star" fill="#DAA520" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                        </svg>
                        <h4 class="text-center">Rating</h4>
                        <div class="wow fadeIn" data-wow-duration="1s" data-wow-delay=".1s">
                            @if (Model.MeanRating != 0)
                            {
                                <p class="text-center" style="color:#DAA520">  @Model.MeanRating / 5</p>
                            }
                            else
                            {
                                <p class="text-center">  no ratings yet!</p>
                            }
                        </div>
                    </div>
                </a>
            </div>
            <div class="center-element">
                @Html.ActionLink("Save Codebase to My Profile", "StartLearning", "Codebases", new { Id = Model.Id }, new { @class = "genric-btn primary" })
            </div>
        </div>
    </div>
</section>
<!-- End Codebase Details Area -->
<!-- Start Learning Instructions Area -->
<section class="about-area">
    <div class="container shrink codebase-step">
        <div class="row justify-content-center">
            <div class="overflow-hidden">
                <!-- start title section -->
                <div class="text-center mb-30">
                    <h1>Learning Instructions</h1>
                    <hr>
                </div>
                <!-- end title section -->
                <!-- start timer section-->
                <div class="mb-50 text-right">
                    <div class="text-center">
                        <div id="defaultCountdown" class="d-inline-block"> </div>
                    </div>
                    <div class="text-right">
                        <!-- <button id="shortlyStart" class="genric-btn primary align-bottom "> Start Timer</button> -->
                    </div>
                </div>
                <!-- end timer section-->
                <!-- start links section-->
                @if (Model.CodebasePath != null)
                {
                    <div class=" center-element mt-40 mb-40">
                        From here you can download the codebase:
                        @Html.ActionLink("Download Codebase", "DownloadCodebase", new { fileName = Model.CodebasePath }, new { @class = "genric-btn primary ml-20" })
                    </div>
                    <br>
                }
                @if (Model.CodebaseLink != null)
                {
                    <div class="mb-40">
                        <h6 class="d-inline"> You can find the codebase at this link: </h6> <a href="@Model.CodebaseLink"> @Model.CodebaseLink </a>
                    </div>
                }
                @if (Model.GoogleFormsLink != null)
                {
                    <div class="mb-40">
                        <h6 class="d-inline">
                            You can find the instructions and tasks that will help you with the codebase exploration
                            at this link:
                        </h6>
                        <a href="@Model.GoogleFormsLink"> @Model.GoogleFormsLink </a>
                    </div>
                }
                @if (Model.GoogleFormsEmbedded != null)
                {
                    <div class="mb-40">
                        <h6 class="d-inline">
                            Bellow you can find the Google Forms sheet,  the instructions and tasks that will help you with the codebase exploration:
                        </h6>
                    </div>
                    <iframe id="myFrame" src="" frameborder="0" marginheight="0" marginwidth="0" border="0" style="margin:0; padding:0;"></iframe>
                }

                @if (Model.ModelAnswersPath != null)
                {
                    <div class="center-element mt-40 mb-40">
                        From here you can check your aswers after you finish the learning process:
                        @Html.ActionLink("Download Model Answers", "DownloadModelAnswers", new { fileName = Model.ModelAnswersPath }, new { @class = "genric-btn primary ml-20" })
                    </div>
                }
                <!-- end links section -->
            </div>
        </div>
    </div>
</section>
<!-- End Learning Instructions Area -->
<!-- Start Review Area -->
<div id="rating">
    @Html.Action("New", "Review", new { CodebaseId = Model.Id })
</div>
<!-- End Review Area -->
<!-- Start Forum Area -->
<section class="about-area">
    <div class="container shrink codebase-step">
        <div class="row justify-content-center">
            <div class="">
                <div class="text-center ">
                    <h1>You need help?</h1>
                    <hr>
                    <a href=@Url.Action("Index", "ForumTopic", new { CodebaseId = Model.Id })>
                        <img class="img-fluid" src="~/Content/Images/forum2.jpg" alt="" width="600">
                    </a> <br>
                    @Html.ActionLink(" Access Forum", "Index", "ForumTopic", new { CodebaseId = Model.Id }, new { @class = "genric-btn primary" })
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Forum Area -->
<!-- Start Sticky Forum Element -->
<div style="position: fixed; bottom: 20px; right: 20px; border: 2px solid #38a4ff; padding:5px;  border-radius: 20px;">
    <a href="@Url.Action("Index", "ForumTopic", new { CodebaseId = Model.Id })">
        <svg width="2em" height="1.5em" viewBox="0 0 16 16" class="bi bi-chat-right-text" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z" />
            <path fill-rule="evenodd" d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
        </svg>
        Forum
    </a>
</div>
<!-- End Sticky Forum Element -->

@section scripts{
    <script type="text/javascript" src="@Url.Content("http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js")"></script> <!-- for time counter-->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/jquery.countdown.css")">
    <script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.plugin.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/js/jquery.countdown.js")"></script>
}

<script>
    @if (Model.GoogleFormsEmbedded != null && Model.GoogleFormsEmbedded.Split('"').Count() > 1) {
        <text>
        document.getElementById("myFrame").src = "@Model.GoogleFormsEmbedded.Split('"')[1]";
        document.getElementById("myFrame").width = "100%";
        document.getElementById("myFrame").height = "500px";
        </text>
    }

    $('#shortlyStart').click(function () {
        $('#defaultCountdown').countdown({ until: '+' + @Model.TimeLimit + 'h' });
    });

    $('#defaultCountdown').countdown({ until: '+' + @Model.TimeLimit + 'h' });
</script>